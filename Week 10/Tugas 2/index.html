<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="wrapper">
      <header>Tugas 2</header>
      <button id="myBtn">Create Team</button>

      <div id="myModal" class="modal">
        <div class="box-content">
          <header><span class="close">&times;</span></header>
          <form enctype="application/json" autocomplete="off">
            <div class="user-box">
              <input type="text" class="foo" id="characterName" name="characterName" />
              <label>Character Name</label>
            </div>
            <div class="user-box">
              <input type="text" class="foo" id="species" name="species" />
              <label>Species</label>
            </div>
            <div class="user-box">
              <select type="text" class="foo" id="position" name="position">
                <option value="Front Line">Front Line</option>
                <option value="Middle Line">Middle Line</option>
                <option value="Back Line">Back Line</option>
              </select>
              <label for="position">Position</label>
            </div>
            <div class="user-box">
              <input type="text" class="foo" id="ability" name="ability" />
              <label>Ability</label>
            </div>
            <button class="btn" type="button" onclick="addData()">Add</button>
            <!-- <input type="button" onclick="addTo()" value="Add" /> -->
          </form>
          <table id="tbl">
            <tr>
              <th>Character Name</th>
              <th>Species</th>
              <th>Position</th>
              <th>Ability</th>
            </tr>
          </table>
          <h3>Result</h3>
          <div id="result"><div>
          <p>Some text in the Modal..</p>
          <p>Some text in the Modal..</p>
          <p>Some text in the Modal..</p>
          <p>Some text in the Modal..</p>
        </div>
      </div>

      <h1>123 | ABC abc</h1>
      <h2>Quickly</h2>
    </div>

    <script>
      // Modal
      var modal = document.getElementById("myModal");
      var btn = document.getElementById("myBtn");
      var span = document.getElementsByClassName("close")[0];

      btn.onclick = function () {
        modal.style.display = "block";
      };

      span.onclick = function () {
        modal.style.display = "none";
      };

      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      const vResult = document.getElementById("result");
      const arr = [];

      // Button function
      function addData() {
        const obj = 
        {
          characterName:document.getElementById("characterName").value,
          species:document.getElementById("species").value,
          position:document.getElementById("position").value,
          ability:document.getElementById("ability").value
        }
          arr.push(obj);
          const li = document.createElement("li");
          li.innerHTML = arr;
          vResult.appendChild(li);
          console.log(arr);
          for (var i = 0; i < arr.length; i++) {
             const vTbl = document.getElementById("tbl");
             const vRow = document.createElement("tr");
             const col1 = document.createElement("td");
             const col2 = document.createElement("td");
             const col3 = document.createElement("td");
             const col4 = document.createElement("td");
             col1.innerHTML = arr[i].characterName;
             col2.innerHTML = arr[i].species;
             col3.innerHTML = arr[i].position;
             col4.innerHTML = arr[i].ability;
             vRow.appendChild(col1);
             vRow.appendChild(col2);
             vRow.appendChild(col3);
             vRow.appendChild(col4);
             vTbl.appendChild(vRow);
          }
      }
      
      // const fForm = document.querySelector("form");
      // const input = document.querySelectorAll(".foo").value;
      // const dataList = document.getElementById("result");

      // const existData = JSON.parse(localStorage.getItem("result")) || [];

      // const arrData = [];

      // existData.forEach((input) => {
      //   addData(input);
      // });

      // /* Start cp */
      // function addData() {
      //   arrData.push();
      //   const li = document.createElement("li");
      //   li.innerHTML = character_name;
      //   dataList.appendChild(li);
      //   localStorage.setItem("result", JSON.stringify(arrData));
      //   input.value = "";
      //   console.log(arrData);
      // }

      // // Events
      // fForm.onsubmit = (event) => {
      //   event.preventDefault();
      //   addData(input.value);
      // };

      /* End cp */
      // function handleSubmit(event) {
      //   event.preventDefault();

      //   const data = new FormData(event.target);
      //   const value = Object.fromEntries(data.entries());
      //   arrData.push(value);

      //   console.log(arrData);
      //   console.log({ value });

      //   const viewJson = JSON.stringify(value);
      //   console.log({ viewJson });
      //   document.getElementById("result").innerHTML = viewJson;
      //   // document.getElementById("result").innerHTML = viewJson;
      //   // showJSON({ viewJson });
      //   showJSON(viewJson);
      // }

      // function showJSON(viewJson) {
      //   var mainContainer = document.getElementById("myData");
      //   for (var i = 0; i < viewJson.length; i++) {
      //     var div = document.createElement("p");
      //     div[i].innerHTML =
      //       "Name: " +
      //       viewJson[i].character_name +
      //       " " +
      //       viewJson[i].species +
      //       " " +
      //       viewJson[i].position +
      //       " " +
      //       viewJson[i].ability;
      //     mainContainer.appendChild(div);
      //   }
      //   document.getElementById("result").innerHTML = viewJson;
      //   // document.getElementById("btnSimpan").style.visibility = "visible";
      // }

      // const form = document.querySelector("form");
      // form.addEventListener("submit", handleSubmit);

      //Show JSON
    </script>
  </body>
</html>
